<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Functions for computing verification scores for NWP forecasts. 
    Part of the harp ecosystem. ">
<title>Point verifition for NWP forecasts • harpPoint</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Point verifition for NWP forecasts">
<meta property="og:description" content="Functions for computing verification scores for NWP forecasts. 
    Part of the harp ecosystem. ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">harpPoint</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/harphub/harpPoint/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="harppoint-">harpPoint <img src="reference/figures/harp_logo_dark.svg" align="right" width="80"><a class="anchor" aria-label="anchor" href="#harppoint-"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>harpPoint provides functionality for the verification of meteorological data at geographic points. Typically this would be the verification of forecasts interpolated to the locations of weather stations. Functions are provided for computing verification scores for both deterministic and ensemble forecasts. In addition, confidence intervals for scores, or the differences between scores for different forecast models can be computed using bootstrapping.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install harpPoint from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"harphub/harpPoint"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="verification">Verification<a class="anchor" aria-label="anchor" href="#verification"></a>
</h2>
<p>harpPoint functions for verification are designed to work with data read in using functions from <a href="https://harphub.github.io/harpIO" class="external-link">harpIO</a>. This means <code>harp_df</code> data frames and <code>harp_lists</code>. These data must include a column for observations against which the forecasts should be verified.</p>
<p>There are two main functions for verification:</p>
<p><a href="https://harphub.github.io/harpPoint/reference/det_verify.html" class="external-link"><code>det_verify()</code></a> - for deterministic forecasts;</p>
<p><a href="https://harphub.github.io/harpPoint/reference/ens_verify.html" class="external-link"><code>ens_verify()</code></a> - for ensemble forecasts.</p>
<p>Both of these functions will output a <code>harp_verif</code> list. This is a list of data frames with scores separated out into summary scores and threshold scores. Threshold scores are computed when thresholds are provided to the functions and are computed for probabilities of threshold exceedance.</p>
</div>
<div class="section level2">
<h2 id="deterministic-scores">Deterministic scores<a class="anchor" aria-label="anchor" href="#deterministic-scores"></a>
</h2>
<p><code><a href="reference/det_verify.html">det_verify()</a></code> computes scores with the following column names:</p>
<div class="section level3">
<h3 id="summary-scores">
<em>Summary scores</em><a class="anchor" aria-label="anchor" href="#summary-scores"></a>
</h3>
<ul>
<li>
<strong>bias</strong> - The mean difference between forecasts and observations</li>
<li>
<strong>rmse</strong> - The root mean squared error</li>
<li>
<strong>mae</strong> - The mean of the absolute error</li>
<li>
<strong>stde</strong> - The standard deviation of the error</li>
<li>
<strong>hexbin</strong> - A heat map of paired hexagonal bins of forecasts and observations</li>
</ul>
</div>
<div class="section level3">
<h3 id="threshold-scores">
<em>Threshold scores</em><a class="anchor" aria-label="anchor" href="#threshold-scores"></a>
</h3>
<ul>
<li>
<strong>cont_tab</strong> - A contingency table of forecast hits, misses, false alarms and correct rejections</li>
<li>
<strong>threat_score</strong> - The ratio of hits to the sum of hits, misses and false alarms</li>
<li>
<strong>hit_rate</strong> - The ratio of hits to the sum of hits and misses</li>
<li>
<strong>miss_rate</strong> - The ratio of misses to the sum of hits and misses</li>
<li>
<strong>false_alarm_rate</strong> - The ratio of false alarms to the sum of false alarms and correct rejections</li>
<li>
<strong>false_alarm_ratio</strong> - The ratio of false alarms to the sum of false alarms and hits</li>
<li>
<strong>heidke_skill_score</strong> - The fraction of correct forecasts after eliminating those forecasts that would be correct purely due to random chance</li>
<li>
<strong>pierce_skill_score</strong> - 1 - miss rate - false alarm rate</li>
<li>
<strong>kuiper_skill_score</strong> - How well forecasts separates hits from false alarms</li>
<li>
<strong>percent_correct</strong> - The ratio of the sum of hits and correct rejections to the total number of cases</li>
<li>
<strong>frequency_bias</strong> - The ratio of the sum of hits and false alarms to the sum of hits and misses</li>
<li>
<strong>equitable_threat_score</strong> - How well the forecast measures hits accounting for hits due to pure chance</li>
<li>
<strong>odds_ratio</strong> - The ratio of the product of hits and correct rejections to the product of misses and false alarms</li>
<li>
<strong>log_odds_ratio</strong> - The sum of the logs of hits and correct rejections minus the sum of the logs of misses and false alarms.</li>
<li>
<strong>odds_ratio_skill_score</strong> - The ratio of the product of hits and correct rejections minus the product of misses and false alarms to the product of hits and correct rejections plus the product of misses and false alarms</li>
<li>
<strong>extreme_dependency_score</strong> - The ratio of the difference between the logs of observations climatology and hit rate to the sum of the logs of observations climatology and hit rate</li>
<li>
<strong>symmetric_eds</strong> - The symmetric extreme dependency score, which is the ratio of the difference between the logs of forecast climatology and hit rate to the sum of the logs of forecast climatology and hit rate</li>
<li>
<strong>extreme_dependency_index</strong> - The ratio of the difference between the logs of false alarm rate and hit rate to the sum of the logs of false alarm rate and hit rate</li>
<li>
<strong>symmetric_edi</strong> - The symmetric extreme dependency index, which is the ratio of the sum of the difference between the logs of false alarm rate and hit rate and the difference between the logs of the inverse hit rate and false alarm rate to the sum of the logs of hit rate, false alarm rate, inverse hit rate and inverse false alarm rate. Here the inverse is 1 - the value.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="ensemble-scores">Ensemble scores<a class="anchor" aria-label="anchor" href="#ensemble-scores"></a>
</h2>
<p><code><a href="reference/ens_verify.html">ens_verify()</a></code> computes scores with the following column names:</p>
<div class="section level3">
<h3 id="summary-scores-1">
<em>Summary scores</em><a class="anchor" aria-label="anchor" href="#summary-scores-1"></a>
</h3>
<ul>
<li>
<strong>mean_bias</strong> - The mean difference between the ensemble mean of forecasts and observations</li>
<li>
<strong>rmse</strong> - The root mean squared error</li>
<li>
<strong>stde</strong> - The standard deviation of the error</li>
<li>
<strong>spread</strong> - The square root of the mean variance of the ensemble forecasts</li>
<li>
<strong>hexbin</strong> - A heat map of paired hexagonal bins of forecasts and observations</li>
<li>
<strong>rank_histogram</strong> - Observation counts ranked by ensemble member bins</li>
<li>
<strong>crps</strong>- The cumulative rank probability score - the difference between the cumulative distribution of the ensemble forecasts and the step function of the observations</li>
<li>
<strong>crps_potential</strong> - The crps that could be achieved with a perfectly reliable ensemble</li>
<li>
<strong>crps_reliability</strong> - Measures the ability of the ensemble to produce a cumulative distribution with desired statisical properties.</li>
<li>
<strong>fair_crps</strong> - The crps that would be achieved for either an ensemble with an infinite number of members, or for a number of members provided to the function</li>
</ul>
</div>
<div class="section level3">
<h3 id="threshold-scores-1">
<em>Threshold scores</em><a class="anchor" aria-label="anchor" href="#threshold-scores-1"></a>
</h3>
<ul>
<li>
<strong>brier_score</strong> - The mean of the squared error of the ensemble in probability space</li>
<li>
<strong>fair_brier_score</strong> - The Brier score that would be achieved for either an ensemble with an infinite number of members, or for a number of members provided to the function</li>
<li>
<strong>brier_skill_score</strong> - The Brier score compared to that of a reference probabilistic forecast (usually the observed climatology)</li>
<li>
<strong>brier_score_reliability</strong> - A measure of the ensemble’s ability to produce reliable (forecast probability = observed frequency) forecasts</li>
<li>
<strong>brier_score_resolution</strong> - A measure of the ensemble’s ability to discriminate between “on the day” uncertainty and climatological uncertainty</li>
<li>
<strong>brier_score_uncertainty</strong> - The inherent uncertainty of the events</li>
<li>
<strong>reliability</strong> - The frequency of observations for bins of forecast probability</li>
<li>
<strong>roc</strong> - The relative operating characteristic of the ensemble - the hit rates and false alarm rates for forecast probability bins</li>
<li>
<strong>roc_area</strong> - The area under a roc curve - summarises the ability of the ensemble to discriminate between events and non events</li>
<li>
<strong>economic_value</strong> - The relative improvement in economic value of the forecast compared to climatology for a range of cost / loss ratios</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="getting-gridded-data-to-points">Getting gridded data to points<a class="anchor" aria-label="anchor" href="#getting-gridded-data-to-points"></a>
</h2>
<p>For interpolation of gridded data to points see the <a href="https://harphub.github.io/harpIO/articles/transformations.html#interpolate" class="external-link">Interpolate section</a> of the <a href="https://harphub.github.io/harpIO/articles/transformations.html" class="external-link">Transforming model data</a> article on the <a href="https://harphub.github.io/harpIO" class="external-link">harpIO website</a>, or the documentation for <a href="https://harphub.github.io/harpCore/reference/geo_points.html" class="external-link">geo_points</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/harphub/harpPoint/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/harphub/harpPoint/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing harpPoint</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Andrew Singleton <br><small class="roles"> Author, maintainer </small>  </li>
<li>Alex Deckmyn <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Andrew Singleton, Alex Deckmyn.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
